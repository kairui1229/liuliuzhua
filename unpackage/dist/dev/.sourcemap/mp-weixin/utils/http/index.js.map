{"version":3,"file":"index.js","sources":["utils/http/index.ts"],"sourcesContent":["import {RequestConfig} from \"./types\";\r\nimport { requestInterceptor, responseInterceptor} from \"./interceptors\";\r\n\r\nconst request = (config:RequestConfig) => { \r\n    const processedConfig = requestInterceptor(config)\r\n    const url = `https://www.liuliuzhua.cn${processedConfig.url}`\r\n    return new Promise((resolve, reject) => { \r\n        uni.request({\r\n            url,\r\n            method: processedConfig.method || 'GET',\r\n            data: processedConfig.data,\r\n            header: processedConfig.header,\r\n            success: (res) => { \r\n                try {\r\n                    resolve(responseInterceptor(res))\r\n                }\r\n                catch (err) { \r\n                    reject(err)\r\n                }\r\n            },\r\n            fail: (err) => { \r\n                reject('请求失败')\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nexport const get = (url: string, data?: any)=> request({url,method:'GET', data})\r\n\r\nexport const post = (url: string, data?: any)=> request({url,method:'POST', data})"],"names":["requestInterceptor","uni","responseInterceptor"],"mappings":";;;AAGA,MAAM,UAAU,CAAC,WAAyB;AAChC,QAAA,kBAAkBA,2CAAmB,MAAM;AAC3C,QAAA,MAAM,4BAA4B,gBAAgB,GAAG;AAC3D,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpCC,kBAAAA,MAAI,QAAQ;AAAA,MACR;AAAA,MACA,QAAQ,gBAAgB,UAAU;AAAA,MAClC,MAAM,gBAAgB;AAAA,MACtB,QAAQ,gBAAgB;AAAA,MACxB,SAAS,CAAC,QAAQ;AACV,YAAA;AACQ,kBAAAC,wBAAAA,oBAAoB,GAAG,CAAC;AAAA,iBAE7B,KAAK;AACR,iBAAO,GAAG;AAAA,QACd;AAAA,MACJ;AAAA,MACA,MAAM,CAAC,QAAQ;AACX,eAAO,MAAM;AAAA,MACjB;AAAA,IAAA,CACH;AAAA,EAAA,CACJ;AACL;AAEa,MAAA,MAAM,CAAC,KAAa,SAAc,QAAQ,EAAC,KAAI,QAAO,OAAO,KAAK,CAAA;;"}