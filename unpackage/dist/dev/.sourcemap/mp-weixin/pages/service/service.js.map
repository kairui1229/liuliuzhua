{"version":3,"file":"service.js","sources":["pages/service/service.vue","../../Hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2VydmljZS9zZXJ2aWNlLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"page\">\n\t\t<up-notice-bar text=\"您有一份宠物大礼包待领取，请及时领取\" mode=\"closable\"></up-notice-bar>\r\n\t\t<view class=\"service-list\">\r\n\t\t\t<view class=\"service-item\" v-for=\"item in serviceList\" :key=\"item.name\">\r\n\t\t\t\t<view class=\"icon\" :style=\"{background:item.bgColor}\">\r\n\t\t\t\t\t<image :src=\"item.icon\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"pet-images\">\r\n\t\t\t\t<image src=\"/static/modules/service/dog.jpg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<image src=\"/static/modules/service/cat.jpg\" mode=\"aspectFill\"></image>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"fish-bone\">\r\n\t\t\t\t<image src=\"/static/modules/service/鱼骨头.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text>宠物领养</text>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-x class=\"scroll-view\">\r\n\t\t\t\t<view class=\"scroll-view-item\" v-for=\"item in adoptList\" :key=\"item.id\">\r\n\t\t\t\t\t<image :src=\"item.pic\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text>{{item.location}}</text>\r\n\t\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t\t<text>待领养：{{item.count}}只</text>\r\n\t\t\t\t\t<up-rate v-model=\"item.rate\" readonly inactive-color=\"#b2b2b2\" active-color=\"#ffce2c\" activeIcon=\"heart-fill\" inactiveIcon=\"heart\"></up-rate>\r\n\t\t\t\t</view>\t\r\n\t\t\t</scroll-view>\r\n\t\t\t\r\n\t\t\t<view class=\"fish-bone\">\r\n\t\t\t\t<image src=\"/static/modules/service/鱼骨头.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text>附近商家</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"service-card\" v-for=\"item in merchanList\" :key=\"item.merchant_id\">\r\n\t\t\t\t<image class=\"service-img\" mode=\"aspectFill\" :src=\"item.pic\"></image>\r\n\t\t\t\t<view class=\"service-info\">\r\n\t\t\t\t\t<text class=\"service-name\">{{item.merchant_name}}</text>\r\n\t\t\t\t\t<view class=\"rate-area\">\r\n\t\t\t\t\t\t<up-rate v-model=\"item.rating\" readonly  inactive-color=\"#b2b2b2\" active-color=\"#ffce2c\"></up-rate>\r\n\t\t\t\t\t\t<text class=\"rate-text\">{{item.rating}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"service-detail\">{{item.address}}</text>\r\n\t\t\t\t\t<view class=\"tag-area\">\r\n\t\t\t\t\t\t<view class=\"tag-item\" v-for=\"tag in item.service.split(',')\" :key=\"tag\">{{tag}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price-area\">\r\n\t\t\t\t\t\t<view>惠</view>【新客福利】<text>￥19.9</text>代金券可领\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t    </view>\r\n\t\t</view>\r\n\t\t<up-divider text=\"我是有底线的\"></up-divider>\n\t</view>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\r\nimport { get } from '../../utils/http';\r\nimport {onLoad,onReachBottom} from \"@dcloudio/uni-app\"\r\n\r\nonLoad(()=>{\n\tgetAdoptList()\r\n\tgetMerchanList(1)\n})\r\n\r\nconst serviceList = [\n\t{\n\t\tname: \"宠物修剪\",\n\t\ticon: \"/static/modules/service/pet1.png\",\n\t\tbgColor: \"#f0f9ff\"\n\t},\n\t{\n\t\tname: '宠物洗澡',\n\t\ticon: '/static/modules/service/pet2.png',\n\t\tbgColor: '#f0fdf4'\n\t},\n\t{\n\t\tname: '宠物医疗',\n\t\ticon: '/static/modules/service/pet3.png',\n\t\tbgColor: '#fef2f2'\n\t},\n\t{\n\t\tname: '宠物哺乳',\n\t\ticon: '/static/modules/service/pet4.png',\n\t\tbgColor: '#fdf4ff'\n\t},\n\t{\n\t\tname: '宠物狗窝',\n\t\ticon: '/static/modules/service/pet5.png',\n\t\tbgColor: '#fff7ed'\n\t},\n\t{\n\t\tname: '宠物玩具',\n\t\ticon: '/static/modules/service/pet6.png',\n\t\tbgColor: '#f0fdfa'\n\t},\n\t{\n\t\tname: '宠物罐头',\n\t\ticon: '/static/modules/service/pet7.png',\n\t\tbgColor: '#faf5ff'\n\t},\n\t{\n\t\tname: '宠物背包',\n\t\ticon: '/static/modules/service/pet8.png',\n\t\tbgColor: '#fff1f2'\n\t}\n]\n\r\nconst adoptList=ref([])\nconst getAdoptList=async ()=>{\n\ttry {\n\t\tconst res:any=await get(\"/adopt/list\");\n\t\tadoptList.value=res\r\n\t\t//uni.__f__('log','at pages/service/service.vue:114',adoptList.value,8989)\n\t} catch (error) {\n\t\tuni.__f__('log','at pages/service/service.vue:116',\"获取失败\")\n\t\t//TODO handle the exception\n\t}\n}\r\n\r\n//商家列表\nconst merchanList=ref([])\r\nconst currentPage=ref<number>(1)\nconst totalPages=ref<number>(0)\r\nconst getMerchanList=async (page:number)=>{\n\ttry {\n\t\tconst data:any=await get(\"/home/merchants\",{page});\n\t\tif(page===1){\n\t\t\tmerchanList.value=data.list\n\t\t}else{\n\t\t\tmerchanList.value=[...merchanList.value,...data.list]\n\t\t}\n\t\ttotalPages.value=data.pagination.totalPages\n\t\tcurrentPage.value=data.pagination.current\n\t} catch (error) {\n\t\tuni.__f__('error','at pages/service/service.vue:136',\"获取失败\")\n\t}\t\n}\r\n\r\nonReachBottom(()=>{\n\tif(currentPage.value<totalPages.value){\n\t\tgetMerchanList(currentPage.value+1)\n\t}\n})\r\n</script>\n\n<style lang=\"scss\" scoped>\n.page{\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n\tpadding: 0 30rpx;\n\t.service-list{\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tbackground-color: #fff;\n\t\tborder-radius:20rpx;\n\t\tpadding: 30rpx;\n\t\tmargin: 20rpx 0;\n\t\t.service-item{\n\t\t\twidth: 25%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tmargin-bottom: 40rpx;\n\t\t\t.icon{\n\t\t\t\twidth: 100rpx;\n\t\t\t\theight: 100rpx;\n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t\timage{\n\t\t\t\t\twidth: 50rpx;\n\t\t\t\t\theight: 50rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.name{\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #333;\n\t\t\t}\n\t\t}\n\t}\n\t.pet-images{\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tmargin-top: 20rpx;\n\t\timage{\n\t\t\twidth: 300rpx;\n\t\t\theight: 140rpx;\n\t\t\tborder: 4rpx solid #fff;\n\t\t\t&:first-child{\n\t\t\t\tmargin-right: 20rpx;\n\t\t\t}\n\t\t}\n\t}\n\t.fish-bone{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-top: 20rpx;\n\t\timage{\n\t\t\twidth: 40rpx;\n\t\t\theight: 40rpx;\n\t\t\ttransform: rotate(90deg);\n\t\t\tmargin-right: 10rpx;\n\t\t}\n\t\ttext{\n\t\t\tfont-size: 36rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t}\n\t}\n\t.service-card{\n\t\tdisplay: flex;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 16rpx;\n\t\tmargin: 10rpx 0 10rpx 0;\n\t\tpadding: 20rpx;\n\t\t.service-img{\n\t\t\twidth: 160rpx;\n\t\t\theight: 160rpx;\n\t\t\tbackground-color: #ddd;\n\t\t\tborder-radius: 8rpx;\n\t\t\tmargin-right: 20rpx;\n\t\t\tmargin-top: 8rpx;\n\t\t}\n\t\t.service-info{\n\t\t\tflex: 1;\n\t\t\t.service-name{\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #000;\n\t\t\t\tline-height:44rpx;\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t}\n\t\t\t.rate-area{\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t\t.rate-text{\n\t\t\t\t\tcolor: $uni-color-primary;\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tmargin-left: 10rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t.service-detail{\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #999;\n\t\t\t\tline-height: 34rpx;\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t}\n\t\t\t.tag-area{\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin: 12rpx 0;\n\t\t\t\t.tag-item{\n\t\t\t\t\tfont-size: 18rpx;\n\t\t\t\t\tpadding: 4rpx 14rpx;\n\t\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\tmargin-right: 16rpx;\n\t\t\t\t\tborder:1px solid;\n\t\t\t\t\t&:nth-child(1){\n\t\t\t\t\t\tcolor: #ff6b81;\n\t\t\t\t\t\tborder-color: #ff6b81;\n\t\t\t\t\t\tbackground-color: rgba(255, 107, 129, 0.1);\n\t\t\t\t\t}\n\t\t\t\t\t&:nth-child(2){\n\t\t\t\t\t\tcolor: #ffce2c;\n\t\t\t\t\t\tborder-color: #ffce2c;\n\t\t\t\t\t\tbackground-color: rgba(255, 206, 44, 0.1);\n\t\t\t\t\t}\n\t\t\t\t\t&:nth-child(3){\n\t\t\t\t\t\tcolor: #19be6b;\n\t\t\t\t\t\tborder-color: #19be6b;\n\t\t\t\t\t\tbackground-color: rgba(25, 190, 107, 0.1);\n\t\t\t\t\t}\n\t\t\t\t\t&:nth-child(4){\n\t\t\t\t\t\tcolor: #ff9900;\n\t\t\t\t\t\tborder-color: #ff9900;\n\t\t\t\t\t\tbackground-color: rgba(255, 153, 0, 0.1);\n\t\t\t\t\t}\n\t\t\t\t\t&:last-child{\n\t\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.price-area{\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-top: 16rpx;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor:#666;\n\t\t\t\tview{\n\t\t\t\t\tbackground-color: $uni-color-primary;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\tpadding: 2rpx 8rpx;\n\t\t\t\t\tborder-radius: 4rpx;\n\t\t\t\t\tmargin-right: 8rpx;\n\t\t\t\t}\n\t\t\t\ttext{\n\t\t\t\t\tcolor: #ff6b81;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tmargin: 0 4rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t.scroll-view{\n\t\twhite-space: nowrap;\n\t\t.scroll-view-item{\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 240rpx;\n\t\t\theight: 300rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 20rpx;\n\t\t\tmargin-right: 20rpx;\n\t\t\tposition: relative;\n\t\t\tpadding: 20rpx;\n\t\t\tmargin-top: 80rpx;\n\t\t\timage{\n\t\t\t\twidth: 120rpx;\n\t\t\t\theight: 120rpx;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft:50%;\n\t\t\t\ttop:-50rpx;\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder: 4rpx solid #fff;\n\t\t\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\n\t\t\t}\n\t\t\ttext{\n\t\t\t\tdisplay: block;\n\t\t\t\ttext-align: center;\n\t\t\t\t&:nth-child(2){\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #999;\n\t\t\t\t\tmargin-top: 80rpx;\n\t\t\t\t}\n\t\t\t\t&:nth-child(3){\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tmargin-top: 12rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t\t&:nth-child(4){\n\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\tcolor: #ff6b6b;\n\t\t\t\t\tmargin: 20rpx 0;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t.up-rate{\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>","import MiniProgramPage from 'D:/uni-app项目/liuliuzhua/pages/service/service.vue'\nwx.createPage(MiniProgramPage)"],"names":["onLoad","ref","get","uni","onReachBottom"],"mappings":";;;;;;;;;;;;;;;;;;;AA4DAA,kBAAAA,OAAO,MAAI;AACG;AACb,qBAAe,CAAC;AAAA,IAAA,CAChB;AAED,UAAM,cAAc;AAAA,MACnB;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,IAAA;AAGK,UAAA,YAAUC,kBAAI,CAAA,CAAE;AACtB,UAAM,eAAa,YAAU;AACxB,UAAA;AACG,cAAA,MAAQ,MAAMC,qBAAI,aAAa;AACrC,kBAAU,QAAM;AAAA,eAER,OAAO;AACXC,sBAAAA,MAAA,MAAM,OAAM,oCAAmC,MAAM;AAAA,MAE1D;AAAA,IAAA;AAIK,UAAA,cAAYF,kBAAI,CAAA,CAAE;AAClB,UAAA,cAAYA,kBAAY,CAAC;AACzB,UAAA,aAAWA,kBAAY,CAAC;AACxB,UAAA,iBAAe,OAAO,SAAc;AACrC,UAAA;AACH,cAAM,OAAS,MAAMC,iBAAA,IAAI,mBAAkB,EAAC,KAAK,CAAA;AACjD,YAAG,SAAO,GAAE;AACX,sBAAY,QAAM,KAAK;AAAA,QAAA,OACnB;AACJ,sBAAY,QAAM,CAAC,GAAG,YAAY,OAAM,GAAG,KAAK,IAAI;AAAA,QACrD;AACW,mBAAA,QAAM,KAAK,WAAW;AACrB,oBAAA,QAAM,KAAK,WAAW;AAAA,eAC1B,OAAO;AACXC,sBAAAA,MAAA,MAAM,SAAQ,oCAAmC,MAAM;AAAA,MAC5D;AAAA,IAAA;AAGDC,kBAAAA,cAAc,MAAI;AACd,UAAA,YAAY,QAAM,WAAW,OAAM;AACtB,uBAAA,YAAY,QAAM,CAAC;AAAA,MACnC;AAAA,IAAA,CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9ID,GAAG,WAAW,eAAe;"}