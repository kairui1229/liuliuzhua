{"version":3,"file":"product-detail.js","sources":["pages/packageA/product-detail/product-detail.vue","../../Hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNccGFja2FnZUFccHJvZHVjdC1kZXRhaWxccHJvZHVjdC1kZXRhaWwudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"product-detail\">\n\t\t<swiper class=\"swiper\" circular indicator-dots autoplay :interval=\"3000\" :duration=\"1000\">\n\t\t\t<swiper-item v-for=\"item in productImages\" :key=\"item.id\">\n\t\t\t\t<image :src=\"item.img_url\" mode=\"aspectFill\"></image>\n\t\t\t</swiper-item>\n\t\t</swiper>\r\n\t\t\n\t\t<!--商品信息-->\n\t\t<view class=\"product-info\">\n\t\t\t<view class=\"price-box\">\n\t\t\t\t<text class=\"price\">￥{{productInfo.price}}</text>\n\t\t\t\t<text class=\"original-price\">￥{{productInfo.o_price}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"title\">{{productInfo.name}}</view>\n\t\t\t<view class=\"desc\">{{productInfo.desc}}</view>\n\t\t</view>\r\n\t\t\n\t\t<!--规格选择-->\n\t\t<view class=\"spec-section\" @click=\"showSpecPopup\">\n\t\t\t<text class=\"label\">规格</text>\n\t\t\t<view class=\"selected-spec\">\n\t\t\t\t<text>请选择规格</text>\n\t\t\t\t<up-icon name=\"arrow-right\" size=\"20\" color=\"#999\"></up-icon>\n\t\t\t</view>\n\t\t</view>\r\n\t\t\n\t\t<!--商品详情-->\n\t\t<view class=\"detail-section\">\n\t\t\t<view class=\"section-title\">商品详情</view>\n\t\t\t<view class=\"detail-content\">\n\t\t\t\t<image \n\t\t\t\t\tv-for=\"item in productImages\"\n\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t\tmode=\"widthFix\"\n\t\t\t\t\tclass=\"detail-image\"\n\t\t\t\t\t:src=\"item.img_url\"\n\t\t\t\t></image>\n\t\t\t</view>\n\t\t</view>\r\n\t\t\n\t\t<!--底部操作区域-->\n\t\t<view class=\"bottom-bar\">\n\t\t\t<view class=\"left-btns\">\n\t\t\t\t<view class=\"icon-btn\" @click=\"\">\n\t\t\t\t\t<up-icon name=\"home\" size=\"40\" color=\"#666\"></up-icon>\n\t\t\t\t\t<text>首页</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"icon-btn\" @click=\"\">\n\t\t\t\t\t<up-icon name=\"shopping-cart\" size=\"40\" color=\"#666\"></up-icon>\n\t\t\t\t\t<text>购物车</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"right-btns\">\n\t\t\t\t<view class=\"cart-btn\" @click=\"\">加入购物车</view>\n\t\t\t\t<view class=\"buy-btn\" @click=\"\">立即购买</view>\n\t\t\t</view>\n\t\t</view>\r\n\t\t\r\n\t\t<ProductSpecPopup :show=\"show\" :product=\"productInfo\" @close=\"handleClose\"></ProductSpecPopup>\n\t</view>\n</template>\n\n<script setup lang=\"ts\">\r\nimport {ref,computed} from \"vue\"\r\nimport {onLoad} from \"@dcloudio/uni-app\"\r\nimport { get,post } from \"@/utils/http\";\r\nimport ProductSpecPopup from \"@/components/products-spec-popup/products-spec-popup.vue\";\r\n\r\ninterface ProductDetail{\n\tid:number;\n\tname:string;\n\tprice:string;\n\tstock:number;\n\tcategory_id:number;\n\tmain_pic:string;\n\tdesc:string;\n\to_price:string;\n}\ninterface ProductImage{\n\tid:number;\n\tproduct_id:number;\n\timg_url:string\n}\r\n\r\nconst productInfo=ref<ProductDetail>({} as ProductDetail)\r\nonLoad((options)=>{\n\tproductInfo.value= JSON.parse(options.product)\r\n\tuni.__f__('log','at pages/packageA/product-detail/product-detail.vue:89',productInfo.value,777)\r\n\tgetImages()\n})\r\n\r\n//获取轮播图图片\r\nconst productImages=ref<ProductImage[]>([])\r\nconst getImages= async ()=>{\n\ttry {\n\t\tconst res:any=await get(\"/sel/detail\",{id:productInfo.value.id})\n\t\tproductImages.value=res\r\n\t\t//uni.__f__('log','at pages/packageA/product-detail/product-detail.vue:99',productImages.value,555)\n\t} catch (error) {\n\t\tuni.__f__('error','at pages/packageA/product-detail/product-detail.vue:101',\"失败\")\n\t}\n}\r\n\r\n//规格弹窗\r\nconst show = ref(false)\r\nconst showSpecPopup = () =>{\r\n\tshow.value = true\r\n}\r\nconst handleClose = () =>{\r\n\tshow.value = false\r\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.product-detail{\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding-bottom: 120rpx;\n\t\t.swiper{\n\t\t\twidth: 100%;\n\t\t\theight: 750rpx;\n\t\t\timage{\n\t\t\t\twidth: 100%;\n\t\t\t\theight:100% ;\n\t\t\t}\n\t\t}\n\t\t.product-info{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 30rpx;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\t.price-box{\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\t.price{\n\t\t\t\t\tcolor: #ff6b81;\n\t\t\t\t\tfont-size: 40rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tmargin-right: 20rpx;\n\t\t\t\t}\n\t\t\t\t.original-price{\n\t\t\t\t\tcolor:#999;\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\ttext-decoration: line-through;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.title{\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor:#333;\n\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t}\n\t\t\t.desc{\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\tline-height: 1.6;\n\t\t\t}\n\t\t}\n\t\t.spec-section{\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 30rpx;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\tjustify-content: space-between;\n\t\t\t.label{\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #333;\n\t\t\t}\n\t\t\t.selected-spec{\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tcolor: #666;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\ttext{\n\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.detail-section{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 30rpx;\n\t\t\t.section-title{\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #333;\n\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t}\n\t\t\t.detail-content{\n\t\t\t\tpadding: 20rpx;\n\t\t\t\t.detail-image{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\t\tborder-radius: 12rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.bottom-bar{\n\t\t\tposition: fixed;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\theight: 60rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tpadding: 30rpx;\n\t\t\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\n\t\t\t.left-btns{\n\t\t\t\tdisplay: flex;\n\t\t\t\tmargin-right: 30rpx;\n\t\t\t\t.icon-btn{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tmargin-right: 30rpx;\n\t\t\t\t\ttext{\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\tmargin-top: 4rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.right-btns{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex: 1;\n\t\t\t\t.cart-btn,.buy-btn{\n\t\t\t\t\tflex: 1;\n\t\t\t\t\theight: 80rpx;\n\t\t\t\t\tborder-radius: 40rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t\t.cart-btn{\n\t\t\t\t\tbackground-color: #fff8e6;\n\t\t\t\t\tcolor: #ffce2c;\n\t\t\t\t\tmargin-right: 20rpx;\n\t\t\t\t}\n\t\t\t\t.buy-btn{\n\t\t\t\t\tbackground-color: #ffce2c;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\t}\n</style>","import MiniProgramPage from 'D:/uni-app项目/liuliuzhua/pages/packageA/product-detail/product-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","get"],"mappings":";;;;;;;;;;;AAmEA,MAAA,mBAA6B,MAAA;;;;AAkBvB,UAAA,cAAYA,kBAAmB,CAAA,CAAmB;AACxDC,kBAAA,OAAO,CAAC,YAAU;AACjB,kBAAY,QAAO,KAAK,MAAM,QAAQ,OAAO;AAC7CC,oBAAA,MAAI,MAAM,OAAM,0DAAyD,YAAY,OAAM,GAAG;AACpF;IAAA,CACV;AAGK,UAAA,gBAAcF,kBAAoB,CAAA,CAAE;AAC1C,UAAM,YAAW,YAAU;AACtB,UAAA;AACG,cAAA,MAAQ,MAAMG,iBAAI,IAAA,eAAc,EAAC,IAAG,YAAY,MAAM,GAAA,CAAG;AAC/D,sBAAc,QAAM;AAAA,eAEZ,OAAO;AACXD,sBAAAA,MAAA,MAAM,SAAQ,2DAA0D,IAAI;AAAA,MACjF;AAAA,IAAA;AAIK,UAAA,OAAOF,kBAAI,KAAK;AACtB,UAAM,gBAAgB,MAAK;AAC1B,WAAK,QAAQ;AAAA,IAAA;AAEd,UAAM,cAAc,MAAK;AACxB,WAAK,QAAQ;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7Gd,GAAG,WAAW,eAAe;"}