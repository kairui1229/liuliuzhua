{"version":3,"file":"merchant-detail.js","sources":["packageB/merchant-detail/merchant-detail.vue","../../Hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFja2FnZUJcbWVyY2hhbnQtZGV0YWlsXG1lcmNoYW50LWRldGFpbC52dWU"],"sourcesContent":["<template>\n\t<view class=\"merchant-detail\">\r\n\t\t\n\t\t<!--商家基础信息-->\r\n\t\t<view class=\"merchant-info\">\r\n\t\t\t<image class=\"merchant-bg\" src=\"/static/modules/service/cat.jpg\" mode=\"aspectFill\"></image>\r\n\t\t\t<view class=\"merchant-card\">\r\n\t\t\t\t<view class=\"merchant-header\">\r\n\t\t\t\t\t<image class=\"merchant-avatar\" :src=\"merchant_info.pic\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"merchant-basic\">\r\n\t\t\t\t\t\t<text class=\"merchant-name\">{{merchant_info.merchant_name}}</text>\r\n\t\t\t\t\t\t<view class=\"rating-info\">\r\n\t\t\t\t\t\t\t<up-rate readonly allow-half active-color=\"#ffce2c\" inactive-color=\"#b2b2b2\" v-model=\"merchant_info.rating\"></up-rate>\r\n\t\t\t\t\t\t\t<text class=\"rating-text\">{{merchant_info.rating}}</text>\r\n\t\t\t\t\t\t\t<text class=\"review-count\" v-if=\"merchant_info.rating>4.5\">（ 精选商家 ）</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"distance-info\">\r\n\t\t\t\t\t\t\t<text class=\"distance-text\">\r\n\t\t\t\t\t\t\t\t{{merchant_info.address}}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"merchant-tags\">\r\n\t\t\t\t\t<view class=\"tag-item\" v-for=\"(item,index) in merchant_info.tag?.split(',')\" :key=\"index\">{{item}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!--商家服务-->\r\n\t\t<view class=\"service-section\">\r\n\t\t\t<view class=\"section-title\">\r\n\t\t\t\t<text class=\"title-text\">服务项目</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"service-list\">\r\n\t\t\t\t<view class=\"service-item\" v-for=\"item in serviceList\" :key=\"item.id\">\r\n\t\t\t\t\t<image class=\"service-icon\" src=\"/static/modules/service/pet1.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"service-info\">\r\n\t\t\t\t\t\t<text class=\"service-name\">{{item.service_name}}</text>\r\n\t\t\t\t\t\t<view class=\"service-price\">\r\n\t\t\t\t\t\t\t<text class=\"price-symbol\">￥</text>\r\n\t\t\t\t\t\t\t<text class=\"price-value\">{{item.service_price}}</text>\r\n\t\t\t\t\t\t\t<text class=\"price-unit\">/{{item.service_unit}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"service-action\">\r\n\t\t\t\t\t\t<up-button \r\n\t\t\t\t\t\ttype=\"primary\" \r\n\t\t\t\t\t\tsize=\"mini\" \r\n\t\t\t\t\t\tstyle=\"background-color: #ffce2c;border-color: #ffce2c;\" \r\n\t\t\t\t\t\t@click=\"bookNow(item)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t立即预约\r\n\t\t\t\t\t\t</up-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!--商家信息-->\r\n\t\t<view class=\"info-section\">\r\n\t\t\t<view class=\"section-title\">\r\n\t\t\t\t<text class=\"title-text\">商家信息</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-list\">\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<up-icon name=\"map\" size=\"32rpx\" color=\"#666\"></up-icon>\r\n\t\t\t\t\t<text class=\"info-label\">地址：</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{merchant_info.address}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<up-icon name=\"clock\" size=\"32rpx\" color=\"#666\"></up-icon>\r\n\t\t\t\t\t<text class=\"info-label\">营业时间：</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{merchant_info.business_hours}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<up-icon name=\"phone\" size=\"32rpx\" color=\"#666\"></up-icon>\r\n\t\t\t\t\t<text class=\"info-label\">联系电话：</text>\r\n\t\t\t\t\t<text class=\"info-value\" style=\"color: #ffce2c;\">{{merchant_info.phone}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 底部 -->\r\n\t\t<view class=\"bottom-bar\">\r\n\t\t\t<view class=\"primary-actions\">\r\n\t\t\t\t<up-button \r\n\t\t\t\ttype=\"primary\" \r\n\t\t\t\tstyle=\"background-color: #ffce2c;border-color: #ffce2c;width: 160rpx;float:right\" \r\n\t\t\t\t@click=\"call\"\r\n\t\t\t\t>\r\n\t\t\t\t拨打电话\r\n\t\t\t\t</up-button>\r\n\t\t\t\t\r\n\t\t\t\t<up-button \r\n\t\t\t\ttype=\"info\" \r\n\t\t\t\tstyle=\"background-color: #fff;border-color: #ffce2c;color: #ffce2c;width: 160rpx;float:right;margin-right: 20rpx;\" \r\n\t\t\t\t@click=\"viewLocation\"\r\n\t\t\t\t>\r\n\t\t\t\t查看位置\r\n\t\t\t\t</up-button>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"ts\" setup>\nimport {onLoad} from \"@dcloudio/uni-app\"\nimport { ref } from \"vue\";\nimport { get } from \"../../utils/http\";\n\r\ninterface MerchantItem{\n\tmerchant_id:number;\n\taddress:string;\n\tbusiness_hours:string;\n\tmerchant_name:string;\n\tphone:string;\n\tpic:string;\n\trating:string;\n\tservice:string;\n\ttag:string\n}\r\n\r\nconst merchant_info=ref<MerchantItem>({} as MerchantItem)\r\nonLoad((options)=>{\n\t//uni.__f__('log','at packageB/merchant-detail/merchant-detail.vue:126',\"opt\",JSON.parse(options.info))\n\tmerchant_info.value=JSON.parse(options.info)\n\tgetService();\n})\r\n\r\n//服务价格列表\nconst serviceList=ref([])\nconst getService=async()=>{\n\tconst data:any=await get(\"/home/service\",{merchant_id:merchant_info.value.merchant_id})\n\tserviceList.value=data\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.merchant-detail{\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding-bottom: 120rpx;\n\t\t.merchant-info{\n\t\t\tposition: relative;\n\t\t\t.merchant-bg{\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 300rpx;\n\t\t\t}\n\t\t\t.merchant-card{\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: -60rpx;\n\t\t\t\tleft: 30rpx;\n\t\t\t\tright: 30rpx;\n\t\t\t\tbackground-color: #fff;\n\t\t\t\tborder-radius: 16rpx;\n\t\t\t\tpadding: 30rpx;\n\t\t\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0,0.1);\n\t\t\t\t.merchant-header{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\t\t.merchant-avatar{\n\t\t\t\t\t\twidth: 120rpx;\n\t\t\t\t\t\theight: 120rpx;\n\t\t\t\t\t\tborder-radius: 12rpx;\n\t\t\t\t\t\tmargin-right: 20rpx;\n\t\t\t\t\t}\n\t\t\t\t\t.merchant-basic{\n\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\t.merchant-name{\n\t\t\t\t\t\t\tfont-size: 36rpx;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\tcolor: #000;\n\t\t\t\t\t\t\tline-height: 50rpx;\n\t\t\t\t\t\t\tmargin-bottom: 12rpx;\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.rating-info{\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t\t\t\t\t.rating-text{\n\t\t\t\t\t\t\t\tcolor: #ffce2c;\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\t\tmargin-left: 10rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.review-count{\n\t\t\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\t\tmargin-left: 10rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.distance-info{\n\t\t\t\t\t\t\t.distance-text{\n\t\t\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\t\tmargin-left: 8rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.merchant-tags{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\t.tag-item{\n\t\t\t\t\t\tpadding: 6rpx 16rpx;\n\t\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\t\tmargin-right: 12rpx;\n\t\t\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t\t\t\tbackground-color: rgba(255, 206, 44, 0.1);\n\t\t\t\t\t\tcolor: #ffce2c;\n\t\t\t\t\t\tborder: 1px solid rgba(255, 206, 44, 0.3);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.service-section{\n\t\t\tbackground-color: #fff;\n\t\t\tmargin: 0 30rpx;\n\t\t\tmargin-top: 80rpx;\n\t\t\tborder-radius: 16rpx;\n\t\t\tpadding: 30rpx;\n\t\t\t.section-title{\n\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\t.title-text{\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tcolor: #000;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.service-list{\n\t\t\t\t.service-item{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tpadding: 20rpx 0;\n\t\t\t\t\tborder-bottom: 1px solid #f0f0f0;\n\t\t\t\t\t.service-icon{\n\t\t\t\t\t\twidth: 80rpx;\n\t\t\t\t\t\theight: 80rpx;\n\t\t\t\t\t\tmargin-right: 20rpx;\n\t\t\t\t\t}\n\t\t\t\t\t.service-info{\n\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\t.service-name{\n\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.service-price{\n\t\t\t\t\t\t\t.price-symbol{\n\t\t\t\t\t\t\t\tcolor: #ffce2c;\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.price-value{\n\t\t\t\t\t\t\t\tcolor: #ffce2c;\n\t\t\t\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t\tmargin: 0 4rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.price-unit{\n\t\t\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t.info-section{\n\t\t\tbackground-color: #fff;\n\t\t\tmargin: 0 30rpx;\n\t\t\tmargin-top: 20rpx;\n\t\t\tborder-radius: 16rpx;\n\t\t\tpadding: 30rpx;\n\t\t\t.section-title{\n\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\t.title-text{\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tcolor: #000;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.info-list{\n\t\t\t\t.info-item{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tpadding: 20rpx 0;\n\t\t\t\t\tborder-bottom: 1px solid #f0f0f0;\n\t\t\t\t\t.info-label{\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\tmargin-left: 16rpx;\n\t\t\t\t\t\tmargin-right: 8rpx;\n\t\t\t\t\t}\n\t\t\t\t\t.info-value{\n\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.bottom-bar{\n\t\t\tposition: fixed;\n\t\t\tbottom: 0;\n\t\t\tleft:0;\n\t\t\tright: 0;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-top: 1px solid #f0f0f0;\n\t\t\tpadding: 20rpx 30rpx;\n\t\t\t.primary-actions{\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import MiniProgramPage from 'D:/uni-app项目/liuliuzhua/packageB/merchant-detail/merchant-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","get"],"mappings":";;;;;;;;;;;;;;;;;;;AA2HM,UAAA,gBAAcA,kBAAkB,CAAA,CAAkB;AACxDC,kBAAA,OAAO,CAAC,YAAU;AAEjB,oBAAc,QAAM,KAAK,MAAM,QAAQ,IAAI;AAChC;IAAA,CACX;AAGK,UAAA,cAAYD,kBAAI,CAAA,CAAE;AACxB,UAAM,aAAW,YAAS;AACnB,YAAA,OAAS,MAAME,iBAAI,IAAA,iBAAgB,EAAC,aAAY,cAAc,MAAM,YAAA,CAAY;AACtF,kBAAY,QAAM;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrInB,GAAG,WAAW,eAAe;"}